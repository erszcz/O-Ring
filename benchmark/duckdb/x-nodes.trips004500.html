<!DOCTYPE html>
<html>
<head>
  <title>o-ring benchmark</title>
  <script src="https://cdn.plot.ly/plotly-3.2.0.min.js" charset="utf-8"></script>
  <style type='text/css'>
    body { font-family: sans-serif; }
    div#content {
        width: 40%;
        margin: 0 auto;
    }
  </style>
</head>
<body>
  <div id='content'>
    <h1>o-ring benchmark</h1>
    <p>
    Taken from "Programming Erlang", second edition, by Joe Armstrong:
    </p>
    <blockquote>Write a ring benchmark. Create N processes in a ring. Send a message 
    round the ring M times so that a total of N * M messages get sent. Time 
    how long this takes for different values of N and M. 
    Write a similar program in some other programming language you are 
    familiar with. Compare the results. Write a blog, and publish the results 
    on the Internet!</blockquote>
    <div id="plot"></div>
  </div>
  <script>
var traces = [];
traces.push({
  name: "cpp-runtime-median",
  x: [
30000,50000,70000,90000,],
  y: [
31467.0,53081.0,74753.0,96278.0,],
  mode: 'lines+markers'
});
traces.push({
  name: "erlang-runtime-median",
  x: [
30000,50000,70000,90000,],
  y: [
39885.0,72536.0,104236.0,134990.0,],
  mode: 'lines+markers'
});
traces.push({
  name: "go-runtime-median",
  x: [
30000,50000,70000,90000,],
  y: [
47968.0,79501.0,112060.0,143782.0,],
  mode: 'lines+markers'
});
traces.push({
  name: "haskell-mvars-runtime-median",
  x: [
30000,50000,70000,90000,],
  y: [
16121.0,42096.0,62157.0,83964.0,],
  mode: 'lines+markers'
});
traces.push({
  name: "kotlin-native-runtime-median",
  x: [
30000,50000,70000,90000,],
  y: [
79320.0,135841.0,190678.0,244291.0,],
  mode: 'lines+markers'
});
traces.push({
  name: "rust-smol-b-runtime-median",
  x: [
30000,50000,70000,90000,],
  y: [
86725.0,146449.0,209480.0,270942.0,],
  mode: 'lines+markers'
});
traces.push({
  name: "rust-smol-unb-runtime-median",
  x: [
30000,50000,70000,90000,],
  y: [
76095.0,118007.0,170173.0,206136.0,],
  mode: 'lines+markers'
});
traces.push({
  name: "rust-tokio-runtime-median",
  x: [
30000,50000,70000,90000,],
  y: [
23313.0,42322.0,57778.0,75690.0,],
  mode: 'lines+markers'
});
var layout = {
  title: {text: ' x=nodes trips=4500 '},
  xaxis: {title: {text: "nodes, trips=4500 "} },
  yaxis: {title: {text: "runtime (ms)"} },
  width: 1400,
  height: 900
};
Plotly.newPlot("plot", {"data": traces, "layout": layout});
  </script>
</body>
</html>
